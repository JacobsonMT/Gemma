<?xml version="1.0" encoding="UTF-8"?>
<!--
	A Spring WebFlow.  Flows can be in 1 of 4 states:	
	view-state: displays associated view
	action-state:  can be used to execute bean defined in bean-factory.xml
	subflow-state: execute another flow
	end-state: end flow sequence
	
	This flow is used to get all bibliographicReferences.  
	
	author: keshav
	version: $Id$
-->

<!DOCTYPE webflow PUBLIC "-//SPRING//DTD WEBFLOW//EN"
	"http://www.springframework.org/dtd/spring-webflow.dtd">

<webflow id="pubMed.Edit" start-state="setupForm">

	<action-state id="setupForm">
		<action bean="pubMed.Edit.formAction" />
		<transition on="success" to="pubMed.Edit.view" />
	</action-state>

	<view-state id="pubMed.Edit.view"
		view="pubMed.Edit.view">
		<transition on="submit" to="save" >
			<action bean="pubMed.Edit.formAction" method="bindAndValidate"/>
		</transition>	
		<transition on="cancel" to="finish" />
	</view-state>
	
	<action-state id="save">
		<action bean="pubMed.Edit.formAction" />
		<transition on="success" to="finish" />
	</action-state>

	<end-state id="finish" view="redirect:/bibRefs.htm" /> 
	
	<end-state id="error" view="error.view"/>

</webflow>