 <!-- 
     This file is merged into validation.xml
     
     $Id$ 
     -->
 
    <global>
        <constant>
            <constant-name>phone</constant-name>
            <constant-value>^\(?(\d{3})\)?[-| ]?(\d{3})[-| ]?(\d{4})$</constant-value>
        </constant>
        <constant>
            <constant-name>zip</constant-name>
            <constant-value>^\d{5}\d*$</constant-value>
        </constant>
        <constant>
            <constant-name>currency</constant-name>
            <constant-value>^\d{1,3}(,?\d{1,3})*\.?(\d{1,2})?$</constant-value>
        </constant>
    </global>
    <formset>
        <form name="databaseEntry">
            <field property="accession" depends="required">
                <arg position="0"  key="databaseEntry.accession"/>
            </field>
        </form>
        
        <form name="bioAssay">
            <field property="name" depends="required">
                <arg position="0"  key="bioAssay.name"/>
            </field>
            <field property="description" depends="required">
                <arg position="0"  key="bioAssay.description"/>
            </field>
        </form>
        <form name="bioMaterial">
            <field property="name" depends="required">
                <arg position="0"  key="bioMaterial.name"/>
            </field>
            <field property="description" depends="required">
                <arg position="0"  key="bioMaterial.description"/>
            </field>
        </form>
        <form name="expressionExperiment">
            <field property="name" depends="required">
                <arg position="0"  key="expressionExperiment.name"/>
            </field>
            <field property="description" depends="required">
                <arg position="0"  key="expressionExperiment.description"/>
            </field>
        </form>
        
        <form name="expressionExperimentVisualizationCommand">
            <field property="searchString" depends="required">
                <arg position="0"  key="expressionExperimentVisualizationCommand.searchString"/>
            </field>
            <field property="viewSampling" depends="required">
                <arg position="0"  key="expressionExperimentVisualizationCommand.viewSampling"/>
            </field>
        </form>
        
        <form name="coexpressionSearchCommand">
            <field property="searchString" depends="required,minlength">
                <arg position="0"  key="coexpressionSearchCommand.searchString"/>
                <arg position="1"  name="minlength" key="${var:minlength}" resource="false"/>
                <var>
                    <var-name>minlength</var-name>
                    <var-value>3</var-value>
                </var>
                
            </field>
            <field property="stringency" depends="required">
                <arg position="0"  key="coexpressionSearchCommand.stringency"/>
            </field>
        </form>
        
        <form name="multipleCoexpressionSearchCommand">
            <field property="geneListString" depends="required,minlength">
                <arg position="0"  key="multipleCoexpressionSearchCommand.geneListString"/>
                <arg position="1"  name="minlength" key="${var:minlength}" resource="false"/>
                <var>
                    <var-name>minlength</var-name>
                    <var-value>3</var-value>
                </var>
                
            </field>
            <field property="stringency" depends="required">
                <arg position="0"  key="multipleCoexpressionSearchCommand.stringency"/>
            </field>
        </form>
        
        <form name="arrayDesign">
            <field property="name" depends="required">
                <arg position="0"  key="arrayDesign.name"/>
            </field>
            <field property="description" depends="required">
                <arg position="0"  key="arrayDesign.description"/>
            </field>
        </form>
        
        <form name="bibliographicReference">
            <field property="pubAccession" depends="required">
                <arg position="0"  key="bibliographicReference.pubAccession"/>
            </field>
        </form>
        
        <form name="user">
            <field property="userName" depends="required,lengthRange">
                
                <arg position="0"  key="user.username"/>
                <arg position="1"  name="minlength" key="${var:minlength}" resource="false"/>
                <arg2 name="maxlength" key="${var:maxlength}" resource="false"/>
                <var>
                    <var-name>minlength</var-name>
                    <var-value>4</var-value>
                </var>
                
                <var>
                    <var-name>maxlength</var-name>
                    <var-value>25</var-value>
                </var>
            </field>
            
              <field property="newPassword" depends="minlength,validwhen">
                <msg name="minLength" key="errors.minlength"/>
                <arg position="0"  key="user.newpassword"/>
                <arg position="1"  name="minlength" key="${var:minlength}" resource="false"/>
                <var>
                    <var-name>minlength</var-name>
                    <var-value>5</var-value>
                </var>
                    <var>
                        <var-name>test</var-name>
                        <var-value> (confirmNewPassword == *this*) </var-value>
                    </var>
            </field>
            
            <field property="confirmNewPassword" depends="validwhen">
                <msg name="validwhen" key="errors.twofields"/>
                <arg position="0"  key="user.confirmNewPassword"/>
                <arg position="1"  key="user.newPassword"/>
                <var>
                    <var-name>test</var-name>
                    <var-value> (newPassword == *this*) </var-value>
                </var>
            </field>
            
            <field property="name" depends="required">
                <arg position="0"  key="user.name"/>
            </field>
            
             <field property="lastName" depends="required">
                <arg position="0"  key="user.lastName"/>
            </field>
            
            <field property="email" depends="required,email">
                <arg position="0"  key="user.email"/>
            </field>
            
            <field property="passwordHint" depends="required">
                <arg position="0"  key="user.passwordHint"/>
            </field>
            
        </form>
        <form name="arrayDesignSequenceAdd">
            <field property="sequenceFile" depends="required" />
            <field property="arrayDesign" depends="required" /> 
            <field property="sequenceType" depends="required" />
        </form>
        <form name="expressionExperimentLoad">
            <field property="accession" depends="required"><arg position="0"  key="expressionExperimentLoad.accession" /></field>
        </form>
        <form name="simpleEEForm">
			<field property="file" depends="required"><arg position="0" key="simpleEEForm.file" /></field>
			<field property="arrayDesigns" depends="required"><arg position="0"  key="simpleEEForm.arrayDesigns" /></field>
			<field property="shortName" depends="required"><arg position="0"  key="simpleEEForm.shortName" /></field>
            <field property="name" depends="required" ><arg position="0"  key="simpleEEForm.name" /></field>
            <field property="description" depends="required"><arg position="0"  key="simpleEEForm.description" /></field>
            <field property="quantitationTypeName" depends="required"><arg position="0"  key="simpleEEForm.quantitationTypeName" /></field>
 			<field property="quantitationTypeDescription" depends="required"><arg position="0"  key="simpleEEForm.quantitationTypeDescription" /></field>
 			<field property="type" depends="required"><arg position="0"  key="simpleEEForm.type" /></field>
 			<field property="scale" depends="required"><arg position="0"  key="simpleEEForm.scale" /></field>
 			<field property="isRatio" depends="required"><arg position="0"  key="simpleEEForm.isRatio" /></field>
        </form>
      
    </formset> 