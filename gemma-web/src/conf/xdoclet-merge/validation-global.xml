 <!-- 
     This file is merged into validation.xml
     
     $Id$ 
     -->
 
    <global>
        <constant>
            <constant-name>phone</constant-name>
            <constant-value>^\(?(\d{3})\)?[-| ]?(\d{3})[-| ]?(\d{4})$</constant-value>
        </constant>
        <constant>
            <constant-name>zip</constant-name>
            <constant-value>^\d{5}\d*$</constant-value>
        </constant>
        <constant>
            <constant-name>currency</constant-name>
            <constant-value>^\d{1,3}(,?\d{1,3})*\.?(\d{1,2})?$</constant-value>
        </constant>
    </global>
    <formset>
        <form name="databaseEntry">
            <field property="accession" depends="required">
                <arg0 key="databaseEntry.accession"/>
            </field>
        </form>
        
        <form name="bioAssay">
            <field property="name" depends="required">
                <arg0 key="bioAssay.name"/>
            </field>
            <field property="description" depends="required">
                <arg0 key="bioAssay.description"/>
            </field>
        </form>
        
        <form name="expressionExperiment">
            <field property="name" depends="required">
                <arg0 key="expressionExperiment.name"/>
            </field>
            <field property="description" depends="required">
                <arg0 key="expressionExperiment.description"/>
            </field>
            <field property="source" depends="required">
                <arg0 key="expressionExperiment.source"/>
            </field>
        </form>
        
        <form name="expressionExperimentSearchCommand">
            <field property="searchString" depends="required">
                <arg0 key="expressionExperimentSearchCommand.searchString"/>
            </field>
            <field property="stringency" depends="required">
                <arg0 key="expressionExperimentSearchCommand.stringency"/>
            </field>
        </form>
        
        <form name="arrayDesign">
            <field property="name" depends="required">
                <arg0 key="arrayDesign.name"/>
            </field>
            <field property="description" depends="required">
                <arg0 key="arrayDesign.description"/>
            </field>
        </form>
        
        <form name="bibliographicReference">
            <field property="pubAccession" depends="required">
                <arg0 key="bibliographicReference.pubAccession"/>
            </field>
        </form>
        
        <form name="user">
            <field property="userName" depends="required,lengthRange">
                
                <arg0 key="user.username"/>
                <arg1 name="minlength" key="${var:minlength}" resource="false"/>
                <arg2 name="maxlength" key="${var:maxlength}" resource="false"/>
                <var>
                    <var-name>minlength</var-name>
                    <var-value>4</var-value>
                </var>
                
                <var>
                    <var-name>maxlength</var-name>
                    <var-value>25</var-value>
                </var>
            </field>
            
              <field property="newPassword" depends="minlength,validwhen">
                <msg name="minLength" key="errors.minlength"/>
                <arg0 key="user.newpassword"/>
                <arg1 name="minlength" key="${var:minlength}" resource="false"/>
                <var>
                    <var-name>minlength</var-name>
                    <var-value>5</var-value>
                </var>
                    <var>
                        <var-name>test</var-name>
                        <var-value> (confirmNewPassword == *this*) </var-value>
                    </var>
            </field>
            
            <field property="confirmNewPassword" depends="validwhen">
                <msg name="validwhen" key="errors.twofields"/>
                <arg0 key="user.confirmNewPassword"/>
                <arg1 key="user.newPassword"/>
                <var>
                    <var-name>test</var-name>
                    <var-value> (newPassword == *this*) </var-value>
                </var>
            </field>
            
            <field property="name" depends="required">
                <arg0 key="user.name"/>
            </field>
            
             <field property="lastName" depends="required">
                <arg0 key="user.lastName"/>
            </field>
            
            <field property="email" depends="required,email">
                <arg0 key="user.email"/>
            </field>
            
            <field property="passwordHint" depends="required">
                <arg0 key="user.passwordHint"/>
            </field>
            
        </form>
        
        <form name="arrayDesignSequenceAdd">
            <field property="sequenceFile" depends="required"></field>
            <field property="arrayDesign" depends="required"></field>
            <field property="sequenceType" depends="required"></field>
        </form>
       
    </formset> 